{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pavlo\\\\React-Node\\\\reactproject\\\\my-app\\\\src\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Container, Form, FormGroup, Input, Label } from 'reactstrap';\nimport { Button } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [user, setUser] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [isLogged, setLogged] = useState(false); // var user = {\n  //     username: \"\",\n  //     password: \"\"\n  // }\n\n  function handleChange(event) {\n    console.log(event.target.name);\n    console.log(event.target.value);\n    setUser({ ...user,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    console.log(\"works\");\n    await fetch('/login', {\n      mode: 'cors',\n      method: 'POST',\n      //credentials: 'include',\n      credentials: 'include',\n      headers: {\n        'accept': 'application/json',\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      setLogged(data.auth);\n      localStorage.setItem('token', data.token);\n    });\n    console.log(\"User log in\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: \"My first React-Node CRUD App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        font: 14\n      },\n      children: \"Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"username\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"username\",\n            id: \"username\",\n            value: user.username || '',\n            onChange: e => {\n              handleChange(e);\n            },\n            autoComplete: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            name: \"password\",\n            id: \"password\",\n            value: user.password || '',\n            onChange: e => {\n              handleChange(e);\n            },\n            autoComplete: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          type: \"submit\",\n          children: \"LogIn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Not registered yet? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/registration\",\n          children: \" Do It Now!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), isLogged && /*#__PURE__*/_jsxDEV(Button, {\n        href: \"/home\",\n        children: \"Check if Authenticated \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"M0Jfoy2ts5NzPIG/njiaqyebdKE=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/pavlo/React-Node/reactproject/my-app/src/Login.js"],"names":["React","useEffect","useState","Container","Form","FormGroup","Input","Label","Button","Login","user","setUser","username","password","isLogged","setLogged","handleChange","event","console","log","target","name","value","handleSubmit","e","preventDefault","fetch","mode","method","credentials","headers","body","JSON","stringify","then","response","json","data","auth","localStorage","setItem","token","textAlign","font"],"mappings":"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","sourcesContent":["import React,{useEffect, useState} from 'react';\r\nimport {Container, Form, FormGroup, Input, Label} from 'reactstrap';\r\nimport {Button} from \"@mui/material\"\r\n\r\n\r\n\r\nfunction Login(){\r\n\r\n    const [user,setUser] = useState({\r\n        username: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const [isLogged,setLogged] = useState(false)\r\n\r\n    \r\n    // var user = {\r\n    //     username: \"\",\r\n    //     password: \"\"\r\n    // }\r\n    \r\n    function handleChange(event)  {\r\n        console.log(event.target.name)\r\n        console.log(event.target.value)\r\n        setUser({...user, [event.target.name]:event.target.value})\r\n    }\r\n  \r\n    async function handleSubmit(e){\r\n        e.preventDefault();\r\n        console.log(\"works\")\r\n        await fetch('/login',\r\n            {\r\n            mode:'cors',\r\n            method: 'POST',\r\n            //credentials: 'include',\r\n            credentials:'include',\r\n            headers: { \r\n                'accept': 'application/json',\r\n                'content-type': 'application/json'\r\n            },\r\n            body:JSON.stringify(user)\r\n        })\r\n        .then((response)=>response.json())\r\n        .then((data)=>{\r\n            console.log(data)\r\n            setLogged(data.auth)   \r\n            localStorage.setItem('token', data.token)\r\n        })\r\n        console.log(\"User log in\")\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"App-header\">\r\n                My first React-Node CRUD App\r\n            </header>\r\n            <h1 style={{ textAlign: \"center\" , font:14}}>Log In</h1>\r\n            <Container> \r\n            <Form onSubmit={(e)=> handleSubmit(e)}>\r\n                <FormGroup>\r\n                    <Label for=\"username\">Username</Label>\r\n                    <Input type=\"text\" name=\"username\" id=\"username\" value={user.username || ''}\r\n                    onChange={(e) => {handleChange(e)}} autoComplete=\"username\"/>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label for=\"password\">Password</Label>\r\n                    <Input type=\"password\" name=\"password\" id=\"password\" value={user.password || ''}\r\n                    onChange={(e) => {handleChange(e)}} autoComplete=\"password\"/>\r\n                </FormGroup>          \r\n                <Button variant='outlined' color=\"primary\" type=\"submit\">LogIn</Button>     \r\n            </Form>\r\n            <p>Not registered yet? <a href='/registration'> Do It Now!</a></p>\r\n\r\n            {isLogged && <Button href='/home'>Check if Authenticated </Button>}\r\n            </Container>         \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Login "]},"metadata":{},"sourceType":"module"}